<!doctype html>
<html lang="en" class="scroll-smooth">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Occasia – Release Notes</title>
	<link rel="icon" type="image/png" href="/images/logo.png" />

	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
	<script src="https://cdn.tailwindcss.com"></script>
	<script>
		tailwind.config = {
			theme: {
				extend: {
					fontFamily: {
						sans: ["Inter", "ui-sans-serif", "system-ui"],
					},
					colors: {
						brand: {
							DEFAULT: "#111827",
							accent: "#0EA5E9",
						},
					},
					boxShadow: {
						card: "0 4px 14px rgb(0 0 0 / 8%)",
					},
				},
			},
			future: { hoverOnlyWhenSupported: true },
		};
	</script>
</head>

<body class="min-h-screen bg-white text-gray-800 font-sans antialiased selection:bg-black selection:text-white">
    <header class="sticky top-0 z-50 bg-white/80 backdrop-blur border-b border-gray-100">
        <nav class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <a href="#top" class="flex items-center gap-2 font-extrabold tracking-tight text-xl transition">
                <span class="inline-block bg-black text-white px-2 py-1 rounded">Occasia</span>
            </a>
            <div class="hidden md:flex items-center gap-8 text-sm text-gray-600">
                <a href="/index.html#features" class="hover:text-black transition" data-i18n="nav.features">Features</a>
                <a href="/release-notes.html" class="hover:text-black transition" data-i18n="nav.releaseNotes">Release Notes</a>
                <a href="/index.html#pricing" class="hover:text-black transition" data-i18n="nav.pricing">Pricing</a>
                <a href="/index.html#contact" class="hover:text-black transition" data-i18n="nav.contact">Contact</a>
            </div>
            <div class="flex items-center gap-3">
                <button id="lang-toggle" type="button" class="inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-xs font-semibold text-gray-900 hover:bg-gray-50">EN</button>
                <a href="https://app.occasia.tech" class="inline-flex items-center rounded-md bg-black px-4 py-2 text-sm font-semibold text-white shadow hover:bg-gray-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-black/20" data-i18n="nav.signup">Sign Up</a>
            </div>
        </nav>
    </header>

	<main class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-12">
        <h1 class="text-3xl font-extrabold tracking-tight text-gray-900" data-i18n="releases.title">Release Notes</h1>
        <p class="mt-2 text-gray-600" data-i18n="releases.subtitle">Latest updates and improvements. Most recent first.</p>

		<div id="releases" class="mt-8 space-y-4"></div>
	</main>

	<footer class="border-t border-gray-100">
		<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-20 flex items-center justify-between">
			<a href="https://www.instagram.com/occasia.event" aria-label="Instagram" class="text-gray-400 hover:text-gray-600">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5">
					<path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm4.5-.75a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5z" />
				</svg>
			</a>
		</div>
	</footer>

    <script src="/assets/js/releases.i18n.js"></script>
	<script>
        const translations = {
            "en": {
                "nav.features": "Features",
                "nav.releaseNotes": "Release Notes",
                "nav.pricing": "Pricing",
                "nav.contact": "Contact",
                "nav.signup": "Sign Up",
                "releases.title": "Release Notes",
                "releases.subtitle": "Latest updates and improvements. Most recent first.",
                "releases.newFeatures": "New Features",
                "releases.fixes": "Bug Fixes & Improvements"
            },
            "fr": {
                "nav.features": "Fonctionnalités",
                "nav.releaseNotes": "Notes de version",
                "nav.pricing": "Tarifs",
                "nav.contact": "Contact",
                "nav.signup": "S'inscrire",
                "releases.title": "Notes de version",
                "releases.subtitle": "Dernières mises à jour et améliorations. De la plus récente à la plus ancienne.",
                "releases.newFeatures": "Nouvelles fonctionnalités",
                "releases.fixes": "Corrections de bugs et améliorations"
            }
        };

        function detectPreferredLanguage() {
            const stored = localStorage.getItem('lang');
            if (stored && (stored === 'en' || stored === 'fr')) return stored;
            const preferred = (navigator.languages && navigator.languages.length ? navigator.languages[0] : navigator.language || 'en').toLowerCase();
            return preferred.startsWith('fr') ? 'fr' : 'en';
        }

        function applyLanguage(lang) {
            const dict = translations[lang] || translations.en;
            document.querySelectorAll('[data-i18n]').forEach((el) => {
                const key = el.getAttribute('data-i18n');
                const value = dict[key];
                if (!value) return;
                el.textContent = value;
            });
            document.documentElement.lang = lang;
            const toggle = document.getElementById('lang-toggle');
            if (toggle) toggle.textContent = lang.toUpperCase();
        }

        function t(lang, key) {
            return (translations[lang] && translations[lang][key]) || translations.en[key] || key;
        }

        function renderReleaseCard(release, index, lang) {
			const isFirst = index === 0;
			const details = document.createElement('details');
			details.className = 'rounded-xl border border-gray-200 bg-white shadow-card';
			if (isFirst) details.open = true;

			const summary = document.createElement('summary');
			summary.className = 'cursor-pointer list-none select-none';
			summary.innerHTML = `
				<div class="flex items-center justify-between px-5 py-4">
					<div>
                        <div class="text-sm text-gray-500">${(release.month && release.month[lang]) || release.month || ''}</div>
                        <div class="mt-0.5 font-semibold text-gray-900">${release.version} — ${(release.title && release.title[lang]) || release.title || ''}</div>
					</div>
					<div class="ml-4 text-gray-400 group-open:rotate-180 transition-transform">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5"><path d="M12 15.5a1 1 0 0 1-.707-.293l-6-6a1 1 0 1 1 1.414-1.414L12 13.086l5.293-5.293a1 1 0 1 1 1.414 1.414l-6 6A1 1 0 0 1 12 15.5z"/></svg>
					</div>
				</div>`;

			const content = document.createElement('div');
			content.className = 'px-5 pb-5';

            if (release.sections && Array.isArray(release.sections.newFeatures) && release.sections.newFeatures.length) {
				const nfHeader = document.createElement('h3');
				nfHeader.className = 'mt-2 text-gray-900 font-semibold';
                nfHeader.textContent = t(lang, 'releases.newFeatures');
				content.appendChild(nfHeader);

                release.sections.newFeatures.forEach(group => {
					const g = document.createElement('div');
					g.className = 'mt-2';
					const gh = document.createElement('div');
					gh.className = 'text-sm font-medium text-gray-700';
                    gh.textContent = (group.group && group.group[lang]) || group.group || '';
					g.appendChild(gh);
					const ul = document.createElement('ul');
					ul.className = 'mt-1 list-disc pl-5 text-sm text-gray-700';
                    (group.items || []).forEach(item => {
						const li = document.createElement('li');
                        li.textContent = (item && item[lang]) || item || '';
						ul.appendChild(li);
					});
					g.appendChild(ul);
					content.appendChild(g);
				});
			}

            if (release.sections && Array.isArray(release.sections.fixes) && release.sections.fixes.length) {
				const fxHeader = document.createElement('h3');
				fxHeader.className = 'mt-4 text-gray-900 font-semibold';
                fxHeader.textContent = t(lang, 'releases.fixes');
				content.appendChild(fxHeader);
				const ul = document.createElement('ul');
				ul.className = 'mt-1 list-disc pl-5 text-sm text-gray-700';
                release.sections.fixes.forEach(item => {
					const li = document.createElement('li');
                    li.textContent = (item && item[lang]) || item || '';
					ul.appendChild(li);
				});
				content.appendChild(ul);
			}

			details.appendChild(summary);
			details.appendChild(content);
			return details;
		}

        function renderAll(lang) {
            applyLanguage(lang);
            const container = document.getElementById('releases');
            const data = (window.RELEASES || []).slice();
            container.innerHTML = '';
            data.forEach((rel, idx) => container.appendChild(renderReleaseCard(rel, idx, lang)));
        }

        document.addEventListener('DOMContentLoaded', () => {
            let lang = detectPreferredLanguage();
            renderAll(lang);
            const toggle = document.getElementById('lang-toggle');
            if (toggle) {
                toggle.addEventListener('click', () => {
                    lang = lang === 'en' ? 'fr' : 'en';
                    localStorage.setItem('lang', lang);
                    renderAll(lang);
                });
            }
        });
	</script>
</body>

</html>


